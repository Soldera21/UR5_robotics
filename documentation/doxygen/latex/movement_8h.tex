\doxysection{planner\+\_\+pkg/include/planner\+\_\+pkg/movement.h File Reference}
\hypertarget{movement_8h}{}\label{movement_8h}\index{planner\_pkg/include/planner\_pkg/movement.h@{planner\_pkg/include/planner\_pkg/movement.h}}
{\ttfamily \#include "{}kinematics.\+h"{}}\newline
{\ttfamily \#include "{}ros/ros.\+h"{}}\newline
{\ttfamily \#include $<$std\+\_\+msgs/\+Float64\+Multi\+Array.\+h$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/\+Joint\+State.\+h$>$}\newline
{\ttfamily \#include $<$Eigen/\+Dense$>$}\newline
{\ttfamily \#include $<$Eigen/\+Geometry$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
Include dependency graph for movement.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Vector\+Xf \mbox{\hyperlink{movement_8h_a182000c3ed5558cc957689e2c6a764ae}{inv\+Diff\+Kinematic\+Control\+Complete\+Quaternion}} (Vector\+Xf q, Vector3f xe, Vector3f xd, Vector3f vd, Vector3f omegad, Quaternionf qe, Quaternionf \mbox{\hyperlink{movement_8cpp_a782005693f0b37073d6c508c052e877a}{qd}}, Matrix3f Kp, Matrix3f Kq, int f)
\begin{DoxyCompactList}\small\item\em Calculates joint velocities using the jacobian matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{movement_8h_aafc78006d7d0c806bb4e40e3be1aae05}{inv\+Diff\+Kinematic\+Control\+Sim\+Complete\+Quaternion}} (Vector3f xef, Vector3f phief, double dt, Vector\+Xf jstates, void(\texorpdfstring{$\ast$}{*}send\+\_\+j)(Vector\+Xf))
\begin{DoxyCompactList}\small\item\em Calculates joint configs using quaternions. \end{DoxyCompactList}\item 
Quaternionf \mbox{\hyperlink{movement_8h_a54ad961cee9a550724ec35fe3c6dd8b1}{operator\texorpdfstring{$\ast$}{*}}} (float num, const Quaternionf \&q)
\begin{DoxyCompactList}\small\item\em Function prototypes. \end{DoxyCompactList}\item 
Vector3f \mbox{\hyperlink{movement_8h_a4af3ea690fcc86203c5005b97ea05dd0}{pd}} (float t, Vector3f xef, Vector3f xe0)
\begin{DoxyCompactList}\small\item\em Calculates trajectory for the end-\/effector position. \end{DoxyCompactList}\item 
Quaternionf \mbox{\hyperlink{movement_8h_a782005693f0b37073d6c508c052e877a}{qd}} (float tb, Quaternionf q0, Quaternionf qf)
\begin{DoxyCompactList}\small\item\em Calculates trajectory for the end-\/effector orientation with quaternions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{movement_8h_ad2d5052e2edaedc2fa82885d3cf4743d}{maxT}} = 6
\begin{DoxyCompactList}\small\item\em Max time for the trajectory. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Soldera Marco (\href{mailto:marco.soldera@studenti.unitn.it}{\texttt{ marco.\+soldera@studenti.\+unitn.\+it}}) -\/ Group Soldera Marco and Morandin Marco 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/02-\/05
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2024 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\Hypertarget{movement_8h_a182000c3ed5558cc957689e2c6a764ae}\label{movement_8h_a182000c3ed5558cc957689e2c6a764ae} 
\index{movement.h@{movement.h}!invDiffKinematicControlCompleteQuaternion@{invDiffKinematicControlCompleteQuaternion}}
\index{invDiffKinematicControlCompleteQuaternion@{invDiffKinematicControlCompleteQuaternion}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{invDiffKinematicControlCompleteQuaternion()}{invDiffKinematicControlCompleteQuaternion()}}
{\footnotesize\ttfamily Vector\+Xf inv\+Diff\+Kinematic\+Control\+Complete\+Quaternion (\begin{DoxyParamCaption}\item[{Vector\+Xf}]{q,  }\item[{Vector3f}]{xe,  }\item[{Vector3f}]{xd,  }\item[{Vector3f}]{vd,  }\item[{Vector3f}]{omegad,  }\item[{Quaternionf}]{qe,  }\item[{Quaternionf}]{qd,  }\item[{Matrix3f}]{Kp,  }\item[{Matrix3f}]{Kq,  }\item[{int}]{f }\end{DoxyParamCaption})}



Calculates joint velocities using the jacobian matrix. 


\begin{DoxyParams}{Parameters}
{\em q} & The current joint config \\
\hline
{\em xe} & The current end-\/effector position \\
\hline
{\em xd} & The desired end-\/effector position \\
\hline
{\em vd} & The desired end-\/effector linear velocity \\
\hline
{\em omegad} & The desired end-\/effector angular velocity \\
\hline
{\em qe} & The current end-\/effector rotation in quaternion \\
\hline
{\em qd} & The desired end-\/effector rotation in quaternion \\
\hline
{\em Kd} & The position gain \\
\hline
{\em Kq} & The orientation gain \\
\hline
{\em f} & counter for debugging \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Vector6f 
\end{DoxyReturn}
\Hypertarget{movement_8h_aafc78006d7d0c806bb4e40e3be1aae05}\label{movement_8h_aafc78006d7d0c806bb4e40e3be1aae05} 
\index{movement.h@{movement.h}!invDiffKinematicControlSimCompleteQuaternion@{invDiffKinematicControlSimCompleteQuaternion}}
\index{invDiffKinematicControlSimCompleteQuaternion@{invDiffKinematicControlSimCompleteQuaternion}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{invDiffKinematicControlSimCompleteQuaternion()}{invDiffKinematicControlSimCompleteQuaternion()}}
{\footnotesize\ttfamily void inv\+Diff\+Kinematic\+Control\+Sim\+Complete\+Quaternion (\begin{DoxyParamCaption}\item[{Vector3f}]{xef,  }\item[{Vector3f}]{phief,  }\item[{double}]{dt,  }\item[{Vector\+Xf}]{jstates,  }\item[{void(\texorpdfstring{$\ast$}{*})(Vector\+Xf)}]{send\+\_\+j }\end{DoxyParamCaption})}



Calculates joint configs using quaternions. 


\begin{DoxyParams}{Parameters}
{\em xef} & Desired end-\/effector position \\
\hline
{\em phief} & Desired end-\/effector orientation \\
\hline
{\em dt} & Time step \\
\hline
{\em jstates} & Actual state of the joints \\
\hline
{\em send\+\_\+j} & Function to send joint states \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{movement_8h_a54ad961cee9a550724ec35fe3c6dd8b1}\label{movement_8h_a54ad961cee9a550724ec35fe3c6dd8b1} 
\index{movement.h@{movement.h}!operator\texorpdfstring{$\ast$}{*}@{operator\texorpdfstring{$\ast$}{*}}}
\index{operator\texorpdfstring{$\ast$}{*}@{operator\texorpdfstring{$\ast$}{*}}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{operator\texorpdfstring{$\ast$}{*}()}{operator*()}}
{\footnotesize\ttfamily Quaternionf operator\texorpdfstring{$\ast$}{*} (\begin{DoxyParamCaption}\item[{float}]{num,  }\item[{const Quaternionf \&}]{q }\end{DoxyParamCaption})}



Function prototypes. 

Redefinition of multiplication between float and Quaternionf


\begin{DoxyParams}{Parameters}
{\em num} & Scalar that multiplies \\
\hline
{\em q} & Quaternion to be multiplied \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Quaternionf 
\end{DoxyReturn}
\Hypertarget{movement_8h_a4af3ea690fcc86203c5005b97ea05dd0}\label{movement_8h_a4af3ea690fcc86203c5005b97ea05dd0} 
\index{movement.h@{movement.h}!pd@{pd}}
\index{pd@{pd}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{pd()}{pd()}}
{\footnotesize\ttfamily Vector3f pd (\begin{DoxyParamCaption}\item[{float}]{tb,  }\item[{Vector3f}]{xef,  }\item[{Vector3f}]{xe0 }\end{DoxyParamCaption})}



Calculates trajectory for the end-\/effector position. 


\begin{DoxyParams}{Parameters}
{\em t} & The current time \\
\hline
{\em xef} & The desired end-\/effector position \\
\hline
{\em xe0} & The start end-\/effector position \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Vector3f 
\end{DoxyReturn}
\Hypertarget{movement_8h_a782005693f0b37073d6c508c052e877a}\label{movement_8h_a782005693f0b37073d6c508c052e877a} 
\index{movement.h@{movement.h}!qd@{qd}}
\index{qd@{qd}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{qd()}{qd()}}
{\footnotesize\ttfamily Quaternionf qd (\begin{DoxyParamCaption}\item[{float}]{tb,  }\item[{Quaternionf}]{q0,  }\item[{Quaternionf}]{qf }\end{DoxyParamCaption})}



Calculates trajectory for the end-\/effector orientation with quaternions. 


\begin{DoxyParams}{Parameters}
{\em tb} & The current time \\
\hline
{\em q0} & The start end-\/effector quaternion \\
\hline
{\em qf} & The desired end-\/effector quaternion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Quaternionf 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{movement_8h_ad2d5052e2edaedc2fa82885d3cf4743d}\label{movement_8h_ad2d5052e2edaedc2fa82885d3cf4743d} 
\index{movement.h@{movement.h}!maxT@{maxT}}
\index{maxT@{maxT}!movement.h@{movement.h}}
\doxysubsubsection{\texorpdfstring{maxT}{maxT}}
{\footnotesize\ttfamily float maxT = 6}



Max time for the trajectory. 

